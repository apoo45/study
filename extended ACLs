Configuring Extended ACLs - Scenario 1

Part 1: Configure, Apply and Verify an Extended Numbered ACL  
Step 1: Configure an ACL to permit FTP and ICMP. 

access-list 100 permit tcp 172.22.34.64 0.0.0.31 host 172.22.34.62 eq ftp 
access-list 100 permit icmp 172.22.34.64 0.0.0.31 host 172.22.34.62 


Step 2: Apply the ACL on the correct interface to filter traffic.  
From R1â€™s perspective, the traffic that ACL 100 applies to is inbound from the network connected to Gigabit 
Ethernet 0/0 interface. Enter interface configuration mode and apply the ACL.  
R1(config)# interface gigabitEthernet 0/0 
R1(config-if)# ip access-group 100 in

Step 3:Verify the ACL implementation.  
a. Ping from PC1 to Server. If the pings are unsuccessful, verify the IP addresses before continuing.  
b. FTP from PC1 to Server. The username and password are both cisco.  
PC> ftp 172.22.34.62  
c. Exit the FTP service of the Server.  
ftp> quit  
d. Ping from PC1 to PC2. The destination host should be unreachable, because the traffic was not explicitly 
permitted.  

Part 2: Configure, Apply and Verify an Extended Named ACL  
Step 1: Configure an ACL to permit HTTP access and ICMP. 

ip access-list extended HTTP_ONLY 
permit tcp 172.22.34.96 0.0.0.15 host 172.22.34.62 eq www 
permit icmp 172.22.34.96 0.0.0.15 host 172.22.34.62
 
step 2
R1(config)# interface gigabitEthernet 0/1  
R1(config-if)# ip access-group HTTP_ONLY in

step 3: Verify the ACL implementation.  
a. Ping from PC2 to Server. The ping should be successful, if the ping is unsuccessful, verify the IP 
addresses before continuing.  
b. FTP from PC2 to Server. The connection should fail.  
c. Open the web browser on PC2 and enter the IP address of Server as the URL. The connection should be 
successful.
